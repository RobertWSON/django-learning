
<!DOCTYPE html>
<html>
    <head><title>Django For Tag</title>
    </head> 

<body>

    {# <h2>Django Syntax Section</h2>  Maybe better to go one heading higher #}  
    <h1><center>Django Syntax</center></h1>

    {#<h2><center>Django For Tag</center></h2> #} 
    <h2>Django For Tag</h2>   

    <h3>For Loops</h3>

    <p>A <code>for</code> loop is used for iterating over a sequence, like looping over items in an array,
       list or a dictionary.
    </p>

    <h4>For Loop List Items Example</h4>

    <p>Loop through items of a list:</p> 

    {#This code below originally used in include file#}
    {% for x in fruits %}
        <h1>{{ x }}</h1>
    {% endfor %}

    <p>In views.py you can see what fruits variable looks like.</p>
    

    {# {% include "testing/for_loop_item.html" with fruits="x" %} #}

    {# {% include 'testing/for_loop_item.html' %} #}

    <h4>For Loop List Dictionaries Example</h4>

    <p>Loop through a list of dictionaries:</p>

    {# {% include 'testing/for_loop_dict.html' %} #}
   
    {# with cars=("x.brand", "x.model","x.year") %} #}

    {% for x in cars %}
        <h1>{{ x.brand }}</h1>
        <p>{{ x.model }}</p>
        <p>{{ x.year }}</p>
    {% endfor %}
    
    <p>In views.py you can see what cars variable looks like.</p>

    
    <hr>

    <h3 id="model_data">Data From a Model</h3>

    <p>Data in a model is like a table with rows and columns.</p>

    <p>The <code>Member</code> model we created earlier has five rows and each row has three columns:</p>

    <table border="1">
        <tr>
            <th>id</th>
            <th>firstname</th>
            <th>lastname</th>
            <th>phone</th>
            <th>joined_date</th>
        <tr>
            <td>1</td><td>Emil</td><td>Refsnes</td><td>555124</td><td>2022-01-05</td>
        </tr>        
        <tr>
            <td>1</td><td>Emil</td><td>Refsnes</td><td>5551234</td><td>2022-01-05</td>
        </tr>
        <tr>
            <td>2</td><td>Tobias</td><td>Refsnes</td><td>5557777</td><td>2022-04-01</td>
        </tr>
        <tr>
            <td>3</td><td>Linus</td><td>Refsnes</td><td>5554321</td><td>2021-12-24</td>
        </tr>
        <tr>
            <td>4</td><td>Lene</td><td>Refsnes</td><td>5551234</td><td>2021-05-01</td>
        </tr>
        <tr>
            <td>5</td><td>Stalikken</td><td>Refsnes</td><td>5559876</td><td>2022-09-28</td>
        </tr>
    </table>    

    <p>When we fetch data from a model, it comes as a QuerySet object, with a similar format as cars 
       example above: a list with dictionaries:
    </p>
       
    {# Screenshot W3Schools QuerySet example as an Image #} 
    {# <img src="my_tennis_club/members/templates/testing/tested_images/Model_Data_QuerySet.png"> #}
    {# easier to do <img src="../tested_images/Model_Data_QuerySet.png"> #}
    {# <img src="../tested_images/Model Data QuerySet.png"> #}
    
    <h4>Model Data Example</h4>

    {# This p tag below is in include file #}
    <p>Loop through items fetched from a database:</p>

    {# {% include 'testing/for_loop_modeldata.html' %} #}

    {% for x in members %}
        <h1>{{ x.id }}</h1>
        <p>
            {{ x.firstname }}
            {{ x.lastname }}
        </p>
    {% endfor %}

    <p>In views.py you can see how to import and fetch members from a database.</p>

    <hr>

    <h3 id="reversed">Reversed</h3>

    <p>The <code>reversed</code> keyword is used when you want to do a loop in reversed order:</p>

    <h4>For Loop Reversed Example</h4>

    {# {% include 'testing/for_loop_reversed.html' %} #} 

    {% for x in members reversed %}
        <h1>{{ x.id }}</h1>
        <p>
            {{ x.firstname }}
            {{ x.lastname }}
        </p>
    {% endfor %}

    <p>In views.py you can see how to import and fetch members from a database for revesed keyword method.
    </p>

    <hr>

    <h3 id="empty">Empty</h3>

    <p>The <code>empty</code> keyword can be used if you you want to do something special if an object is 
       empty:
    </p>

    <h4>For with Empty Object Example</h4>

    <ul>
        {% for x in emptytestobject %}
            <li>{{ x.firstname }}</li>
        {% empty %}
            <li>No members</li>
        {% endfor %}    
    </ul>

    <p>In views.py you can see an emptytestobject.</p>
 
    {# {% include 'testing/for_emptyobject.html' %} #} 

    <p>The <code>empty</code> keyword can also be used if an object does not exist:</p>

    <h4 id="empty_noobject">For with Empty on Non Existing Object Example</h4>

    <ul>
        {% for x in myobject %}
            <li>{{ x.firstname }}</li>
        {% empty %}
            <li>No Members</li>
        {% endfor %}
    </ul>
    
    <p>In views.py you can see that there is no myobject variable.</p>

    <hr>

    <h3>Loop variables</h3>

    <p>Django has some variables that are available for you inside a loop:</p>

    <ul>
        <li>forloop.counter</li>
        <li>forloop.counter0</li>
        <li>forloop.first</li>
        <li>forloop.last</li>
        <li>forloop.parentloop</li>
        <li>forloop.revcounter</li>
        <li>forloop.revcounter0</li>
    </ul> 
    
    <h3 id="counter">forloop.counter</h3>

    <p>The current iteration, starting at 1</p>

    <h4>For Loop Counter Example</h4>

    <ul>
        {% for x in fruits_loop %}
            <li>{{ forloop.counter }}</li>
        {% endfor %}   
    </ul>

    <p>In views.py you can see what fruits_loop object looks like.</p>

    {# {% include 'testing/for_loop_counter.html' %} #}

    <h3 id="counter0">forloop.counter0</h3>

    <p>The current iteration, starting at 0</p>

    <h4>For Loop Counter0 Example</h4>

    <ul>
        {% for x in fruits_loop %}
            <li>{{ forloop.counter0 }}</li>
        {% endfor %}
    </ul>

    <p>In views.py you can that we can still use same fruits_loop object.</p>

    {# {% include 'testing/for_loop_counter0.html' %} #}

    <h3 id="first">forloop.first</h3>

    <p>Allows you to test if a loop is on its first iteration of a loop.</p>

    <h4>For Loop First Example</h4>

    <p>Draw a blue background for first iteration of a loop:</p>

    <ul>
        {% for x in fruits_loop %}
            <li
                {% if forloop.first %}
                    style='background-color: lightblue;'
                {% endif %}
            >{{ x }}</li>
        {% endfor %}
    </ul>

    <p>In views.py you can that we can still use same fruits_loop object.</p> 

    {# {% include 'testing/for_loop_first.html' %} #}

    <h3 id="last">forloop.last</h3>
        
    <p>Allows you to test if a loop is on its last iteration.</p>

    <h4>For Loop Last Example</h4>

    <p>Draw a blue background for last iteration of a loop:</p>

    <ul>
        {% for x in fruits_loop %}
            <li
                {% if forloop.last %}
                    style='background-color: lightblue;'
                {% endif %}
            >{{ x }}</li>
        {% endfor %}        
    </ul>

    <p>In views.py you can that we can still use same fruits_loop object.</p>

    {# {% include 'testing/for_loop_last.html' %} #}

    <h3 id="parent">forloop.parentloop</h3>

    <p>Sets up a parent loop for a child.</p>

    <h4>For Loop Parent Example</h4>

    <ul>
        {% for x in cars_parent %}
            <li>{{ x }}:
                <ul>
                    {% for y in colors_parent %}
                        <li>
                            {{ forloop.parentloop.counter }}
                            {{ y }}
                        </li>
                    {% endfor %}
                </ul>
            </li>
        {% endfor %}
    </ul>

    <p>In views.py you can see what cars_parent and colors_parent objects look like.</p> 

    {# {% include 'testing/for_loop_parent.html' %} #}

    <h3 id="revcounter">forloop.revcounter</h3>

    <p>The current iteration if you start at end and count backwards, ending up at 1.</p>

    <h4>For Loop Reverse Counter Example</h4>

    <ul>
        {% for x in fruits_loop %}
            <li>{{ forloop.revcounter }}</li>
        {% endfor %}
    </ul>

    <p>In views.py you can that we can still use same fruits_loop object.</p>

    {# {% include 'testing/for_loop_revcounter.html' %} #}

    <h3 id="revcounter0">forloop.revcounter0</h3>

    <p>The current iteration if you start at end and count backwards, ending up at 0.</p>

    <h4>For Loop Reverse Counter0 Example</h4> 

    <ul>
        {% for x in fruits_loop %}
            <li>{{ forloop.revcounter0 }}</li>
        {% endfor %}
    </ul>

    <p>In views.py you can that we can still use same fruits_loop object.</p>

    {# {% include 'testing/for_loop_revcounter0.html' %} #}

    <p>These for loop examples should now give you a good insight into what is possible with arrays and 
        getting data from a database,<br> from a Django perspective.
    </p>

</body>
</html> 